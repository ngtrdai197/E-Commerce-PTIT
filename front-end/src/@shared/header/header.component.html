<header>
  <div id="top-header">
    <div class="container">
      <ul class="header-links pull-left">
        <li><a href="#"><i class="fa fa-phone"></i> +021-95-51-84</a></li>
        <li><a href="#"><i class="fa fa-envelope-o"></i> email@email.com</a></li>
        <li><a href="#"><i class="fa fa-map-marker"></i> 1734 Stonecoal Road</a></li>
      </ul>
      <ul class="header-links pull-right">
        <li><a href="#"><i class="fa fa-dollar"></i> USD</a></li>
        <li *ngIf="!currentUser"><a (click)="myAccount()"><i class="fa fa-user-o"></i> My Account</a></li>
        <li *ngIf="currentUser"><a class="dropdown-toggle" role="button" id="dropdownMenuButton" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">Xin chào: {{currentUser?.fullName}}</a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" (click)="onNavigateAdmin()" *ngIf="currentUser?.role === role.ADMIN">Dash board
              (Admin)</a>
            <a class="dropdown-item" data-toggle="modal" data-target="#inforUser" (click)="uploadProfile()">Thông tin cá
              nhân</a>
              <a class="dropdown-item" routerLink="/my-order">Đơn hàng của tôi</a>
            <a class="dropdown-item" (click)="onSignOut()">Đăng xuất</a>
          </div>
        </li>
      </ul>
      <div style="clear: both;"></div>
    </div>
  </div>
  <div id="header">
    <div class="container">
      <div class="row w-100">
        <div class="col-md-3">
          <div class="header-logo">
            <a routerLink="/home" class="logo">
              <!-- <img src="../../assets/logo.png" alt=""> -->
            </a>
          </div>
        </div>
        <div class="col-md-6">
          <div class="header-search">
            <form class="d-flex">
              <select class="input-select">
                <option value="0">All Categories</option>
                <option value="1">Category 01</option>
                <option value="1">Category 02</option>
              </select>
              <input class="input" placeholder="Search here">
              <button class="search-btn">Search</button>
            </form>
          </div>
        </div>
        <div class="col-md-3 clearfix">
          <div class="header-ctn">
            <div>
              <a href="#">
                <i class="fa fa-heart-o"></i>
                <span>Your Wishlist</span>
                <div class="qty">2</div>
              </a>
            </div>
            <div class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" role="button" id="dropdownMenuLink"
                aria-expanded="false" style="cursor: pointer;">
                <i class="fa fa-shopping-cart"></i>
                <span>Your Cart</span>
                <div class="qty">{{totalOrders}}</div>
              </a>
              <div class="dropdown-menu cart" aria-labelledby="dropdownMenuLink" style="max-height: 600px;
              overflow-y: auto;">
                <div *ngIf="order?.products?.length <= 0" class="text-center" style="font-size: 14px;">Giỏ hàng đang
                  rỗng
                </div>
                <a class="dropdown-item" *ngFor="let item of order?.carts" [title]="item?.product?.title">
                  <div class="product-widget">
                    <div class="product-img text-center mb-2" [routerLink]="['/product', item?.product?.id]">
                      <img [src]="item?.product.images[0]" alt="" style="width: 150px; height: 150px;">
                    </div>
                    <div class="product-body" [routerLink]="['/product', item?.product.id]">
                      <h3 class="product-name"><a>{{item?.product?.title | subtitle}}</a></h3>
                      <h4 class="product-price"><span class="qty">{{item?.quantity}} x
                        </span>{{item?.product?.currentPrice}}</h4>
                    </div>
                    <div class="btn-delete">
                      <button class="btn btn-danger" (click)="removeItem(item?.product)"><i
                          class="fa fa-close"></i></button>
                    </div>
                  </div>
                </a>
                <button class="btn btn-primary btn-block mx-auto" style="width: 90%;" routerLink="/order"
                  *ngIf="totalOrders > 0">Đặt hàng ngay</button>
              </div>
            </div>
            <div class="menu-toggle">
              <a href="#">
                <i class="fa fa-bars"></i>
                <span>Menu</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<section>
  <!--Navbar-->
  <nav class="navbar navbar-expand-lg navbar-dark primary-color">

    <!-- Navbar brand -->
    <a class="navbar-brand" routerLink="/home">Navbar</a>

    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
      aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="basicExampleNav">

      <!-- Links -->
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" routerLink="/home">Home
            <span class="sr-only">(current)</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Features</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>

        <!-- Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">Dropdown</a>
          <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>

      </ul>
      <!-- Links -->

      <form class="form-inline">
        <div class="md-form my-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        </div>
      </form>
    </div>
    <!-- Collapsible content -->

  </nav>
  <!--/.Navbar-->

</section>

<div class="modal fade" id="inforUser">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="inner-content">
        <h4 class="text-center">Thông tin cá nhân</h4>
        <form [formGroup]="editForm">
          <div class="avatar" *ngIf="currentUser?.avatar">
            <img id="preview" [src]="currentUser.avatar" alt="" (click)="uploadFile.click()">
          </div>
          <div class="avatar" *ngIf="!currentUser?.avatar">
            <img id="preview" [src]="avatarDefault" alt="" (click)="uploadFile.click()">
          </div>
          <input type="file" #uploadFile style="display: none" (change)="onFileChange($event)">
          <div class="form-group">
            <label for="">User name</label>
            <input type="text" class="form-control" disabled formControlName="username" aria-describedby="helpId">
          </div>
          <div class="form-group">
            <label for="">Họ tên</label>
            <input type="text" class="form-control" formControlName="fullName" aria-describedby="helpId">
          </div>
          <div class="form-group">
            <label for="">Địa chỉ</label>
            <input type="text" class="form-control" formControlName="address" aria-describedby="helpId">
          </div>
          <div class="form-group">
            <label for="">Số điện thoại</label>
            <input type="text" class="form-control" formControlName="phone" aria-describedby="helpId">
          </div>
          <div class="form-group">
            <label for="">Email</label>
            <input type="email" class="form-control" formControlName="email" aria-describedby="helpId">
          </div>
          <div class="cover-button d-flex">
            <a name="" id="" class="btn btn-primary" data-dismiss="modal" (click)="updateUserProfile()"
              role="button">Cập nhật</a>
            <a name="" id="" class="btn btn-danger" data-dismiss="modal" role="button">Hủy bỏ</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
